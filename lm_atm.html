

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lm_atm package &mdash; pyro 2.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pyro 2.2 documentation" href="index.html"/>
        <link rel="up" title="pyro2" href="modules.html"/>
        <link rel="next" title="lm_atm.problems package" href="lm_atm.problems.html"/>
        <link rel="prev" title="incompressible.problems package" href="incompressible.problems.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pyro
          

          
          </a>

          
            
            
              <div class="version">
                2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">pyro basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to pyro</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Setting up pyro</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes on the numerical methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Working with output</a></li>
<li class="toctree-l1"><a class="reference internal" href="problems.html">Adding a problem</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh_basics.html">Mesh overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="mesh-examples.html">Mesh examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Solvers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="advection_basics.html">Advection solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="compressible_basics.html">Compressible hydrodynamics solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="compressible_compare.html">Compressible solver comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="multigrid_basics.html">Multigrid solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="multigrid-examples.html">Multigrid examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="diffusion_basics.html">Diffusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="incompressible_basics.html">Incompressible hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="lowmach_basics.html">Low Mach number hydrodynamics solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="particles_basics.html">Particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="swe_basics.html">Shallow water solvers</a></li>
</ul>
<p class="caption"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis routines</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="help.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="ack.html">Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="ack.html#history">History</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="advection.html">advection package</a></li>
<li class="toctree-l2"><a class="reference internal" href="advection_fv4.html">advection_fv4 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="advection_rk.html">advection_rk package</a></li>
<li class="toctree-l2"><a class="reference internal" href="advection_weno.html">advection_weno package</a></li>
<li class="toctree-l2"><a class="reference internal" href="compare.html">compare module</a></li>
<li class="toctree-l2"><a class="reference internal" href="compressible.html">compressible package</a></li>
<li class="toctree-l2"><a class="reference internal" href="compressible_fv4.html">compressible_fv4 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="compressible_react.html">compressible_react package</a></li>
<li class="toctree-l2"><a class="reference internal" href="compressible_rk.html">compressible_rk package</a></li>
<li class="toctree-l2"><a class="reference internal" href="compressible_sdc.html">compressible_sdc package</a></li>
<li class="toctree-l2"><a class="reference internal" href="diffusion.html">diffusion package</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">examples package</a></li>
<li class="toctree-l2"><a class="reference internal" href="incompressible.html">incompressible package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">lm_atm package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="lm_atm.problems.html">lm_atm.problems package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-lm_atm.simulation">lm_atm.simulation module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mesh.html">mesh package</a></li>
<li class="toctree-l2"><a class="reference internal" href="multigrid.html">multigrid package</a></li>
<li class="toctree-l2"><a class="reference internal" href="particles.html">particles package</a></li>
<li class="toctree-l2"><a class="reference internal" href="plot.html">plot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotvar.html">plotvar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyro.html">pyro module</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html">setup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_null.html">simulation_null module</a></li>
<li class="toctree-l2"><a class="reference internal" href="swe.html">swe package</a></li>
<li class="toctree-l2"><a class="reference internal" href="test.html">test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html">util package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyro</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">pyro2</a> &raquo;</li>
        
      <li>lm_atm package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lm_atm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="module-lm_atm">
<span id="lm-atm-package"></span><h1>lm_atm package<a class="headerlink" href="#module-lm_atm" title="Permalink to this headline">¶</a></h1>
<p>The pyro solver for low Mach number atmospheric flow.  This
implements as second-order approximate projection method.  The general
flow is:</p>
<ul class="simple">
<li>create the limited slopes of rho, u and v (in both directions)</li>
<li>get the advective velocities through a piecewise linear Godunov
method</li>
<li>enforce the divergence constraint on the velocities through a
projection (the MAC projection)</li>
<li>predict rho to edges and do the conservative update</li>
<li>recompute the interface states using the new advective velocity</li>
<li>update U in time to get the provisional velocity field</li>
<li>project the final velocity to enforce the divergence constraint.</li>
</ul>
<p>The projections are done using multigrid</p>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="lm_atm.problems.html">lm_atm.problems package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lm_atm.problems.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="lm_atm.problems.html#module-lm_atm.problems.bubble">lm_atm.problems.bubble module</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lm_atm.simulation">
<span id="lm-atm-simulation-module"></span><h2>lm_atm.simulation module<a class="headerlink" href="#module-lm_atm.simulation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lm_atm.simulation.Basestate">
<em class="property">class </em><code class="descclassname">lm_atm.simulation.</code><code class="descname">Basestate</code><span class="sig-paren">(</span><em>ny</em>, <em>ng=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Basestate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Basestate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="lm_atm.simulation.Basestate.jp">
<code class="descname">jp</code><span class="sig-paren">(</span><em>shift</em>, <em>buf=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Basestate.jp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Basestate.jp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Basestate.v">
<code class="descname">v</code><span class="sig-paren">(</span><em>buf=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Basestate.v"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Basestate.v" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Basestate.v2d">
<code class="descname">v2d</code><span class="sig-paren">(</span><em>buf=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Basestate.v2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Basestate.v2d" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Basestate.v2dp">
<code class="descname">v2dp</code><span class="sig-paren">(</span><em>shift</em>, <em>buf=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Basestate.v2dp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Basestate.v2dp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="lm_atm.simulation.Simulation">
<em class="property">class </em><code class="descclassname">lm_atm.simulation.</code><code class="descname">Simulation</code><span class="sig-paren">(</span><em>solver_name</em>, <em>problem_name</em>, <em>rp</em>, <em>timers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="simulation_null.html#simulation_null.NullSimulation" title="simulation_null.NullSimulation"><code class="xref py py-class docutils literal"><span class="pre">simulation_null.NullSimulation</span></code></a></p>
<dl class="method">
<dt id="lm_atm.simulation.Simulation.dovis">
<code class="descname">dovis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.dovis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.dovis" title="Permalink to this definition">¶</a></dt>
<dd><p>Do runtime visualization</p>
</dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Simulation.evolve">
<code class="descname">evolve</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.evolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.evolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Evolve the low Mach system through one timestep.</p>
</dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Simulation.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the grid and variables for low Mach atmospheric flow
and set the initial conditions for the chosen problem.</p>
</dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Simulation.make_prime">
<code class="descname">make_prime</code><span class="sig-paren">(</span><em>a</em>, <em>a0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.make_prime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.make_prime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Simulation.method_compute_timestep">
<code class="descname">method_compute_timestep</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.method_compute_timestep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.method_compute_timestep" title="Permalink to this definition">¶</a></dt>
<dd><p>The timestep() function computes the advective timestep
(CFL) constraint.  The CFL constraint says that information
cannot propagate further than one zone per timestep.</p>
<p>We use the driver.cfl parameter to control what fraction of the CFL
step we actually take.</p>
</dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Simulation.preevolve">
<code class="descname">preevolve</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.preevolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.preevolve" title="Permalink to this definition">¶</a></dt>
<dd><p>preevolve is called before we being the timestepping loop.  For
the low Mach solver, this does an initial projection on the
velocity field and then goes through the full evolution to get the
value of phi.  The fluid state (rho, u, v) is then reset to values
before this evolve.</p>
</dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Simulation.read_extras">
<code class="descname">read_extras</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.read_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.read_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>read in any simulation-specific data from an h5py file object f</p>
</dd></dl>

<dl class="method">
<dt id="lm_atm.simulation.Simulation.write_extras">
<code class="descname">write_extras</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lm_atm/simulation.html#Simulation.write_extras"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lm_atm.simulation.Simulation.write_extras" title="Permalink to this definition">¶</a></dt>
<dd><p>Output simulation-specific data to the h5py file f</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lm_atm.problems.html" class="btn btn-neutral float-right" title="lm_atm.problems package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="incompressible.problems.html" class="btn btn-neutral" title="incompressible.problems package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, pyro development tem.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>